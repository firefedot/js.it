FROM php

# Определить переменные окружения в начале, дял удобства, и если работать с ними надо будет ранее
ENV TEST

# Создать рабочую директорию заранее (создасться автоматом)
WORKDIR /source

# Копируем сразу в рабочую директорию
COPY source .

# Разделил бы слои, для возможного удобства
RUN apt-get update &&\
    apt-get install -y libpq-dev

RUN docker-php-ext-install pdo pdo_pgsql

RUN apt-get clean &&\
    rm -rf /var/lib/apt/lists/*

# Если используются ENTRYPOINT и CMD,  то они должны быть в json виде, вроде бы) команда и параметр
ENTRYPOINT ["php", "run", "application"]

# Но так как CMD попытается выполнить команду "--force" - получим по-идее ошибку, так как я не знаю такой команды)
# Исключим ее из файла, и тем более, и вроде как, когда две команды вместе ENTRYPOINT и CMD - выполняется последняя
# но это не точно, но вроде)
# CMD --force